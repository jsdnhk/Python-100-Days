<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title>給多個元素綁定事件</title>
		<style>
			#buttons>button {
				border: none;
				outline: none;
				width: 120px;
				height: 40px;
				font: 22px/40px Arial;
				background-color: red;
				color: white;
			}
		</style>
	</head>
	<body>
		<div id="buttons">
			<button><input type="checkbox" disabled>蘋果</button>
			<button><input type="checkbox" disabled>香蕉</button>
			<button><input type="checkbox" disabled>草莓</button>
			<button><input type="checkbox" disabled>藍莓</button>
			<button><input type="checkbox" disabled>榴蓮</button>
			<button><input type="checkbox" disabled>西瓜</button>
			<button><input type="checkbox" disabled>芒果</button>
			<button><input type="checkbox" disabled>檸檬</button>
		</div>
		<script src="js/hello.js"></script>
		<script>
			const allButtons = document.querySelectorAll('#buttons>button')
			allButtons.forEach(button => {
				button.addEventListener('click', () => {
					let checkbox = button.firstChild
					checkbox.checked = !checkbox.checked
					// button.style.backgroundColor = 
						// checkbox.checked? 'green' : 'red'
					button.style.backgroundColor = randomColor()
				})
			})
			// textContent / innerHTML
			// image.src / image.title / image.style / checkbox.checked
			// ES6的做法:
// 			for (let i = 0; i < allButtons.length; i += 1) {
// 				// 閉包(closure) - 將一個塊級作用域的變量生命週期延長至了全局
// 				allButtons[i].addEventListener('click', () => {
// 					let checkbox = allButtons[i].firstChild
// 					checkbox.checked = !checkbox.checked
// 					allButtons[i].style.backgroundColor =
// 						checkbox.checked? 'green' : 'red'
// 				})
// 			}
			// ES5的做法:
			// for (var i = 0; i < allButtons.length; i += 1) {
				// allButtons[i].addEventListener('click', function(evt) {
					// // 我們知道事件發生時要做什麼但我們不知道事件什麼時候發生
					// // 在這種情況下就需要放置一個回調函數(callback function)
					// // 綁定事件時傳入的函數通常我們稱之爲回調函數
					// // 當瀏覽器執行該回調函數時會傳入一個代表事件的對象
					// 通過事件對象的target屬性就可以獲取到事件源(誰引發了事件)
					// var checkbox = evt.target.firstChild
					// checkbox.checked = !checkbox.checked
					// evt.target.style.backgroundColor =
						// checkbox.checked? 'green' : 'red'
				// })
			//}
		</script>
	</body>
</html>
